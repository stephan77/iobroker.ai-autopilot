{
  "type": "tabs",
  "items": {
    "base": {
      "type": "tab",
      "label": "Basis",
      "items": {
        "openaiApiKey": {
          "type": "password",
          "label": "OpenAI API Key"
        },
        "model": {
          "type": "text",
          "label": "GPT Modell"
        },
        "mode": {
          "type": "select",
          "label": "Modus",
          "options": [
            {
              "label": "manual",
              "value": "manual"
            },
            {
              "label": "observer",
              "value": "observer"
            },
            {
              "label": "autopilot",
              "value": "autopilot"
            }
          ]
        },
        "intervalMin": {
          "type": "number",
          "label": "Analyse-Intervall (Minuten)",
          "min": 1
        },
        "debug": {
          "type": "checkbox",
          "label": "Debug Logging aktivieren"
        },
        "dryRun": {
          "type": "checkbox",
          "label": "Dry-Run (keine Umsetzung)"
        }
      }
    },
    "telegram": {
      "type": "tab",
      "label": "Telegram",
      "items": {
        "telegram.enabled": {
          "type": "checkbox",
          "label": "Telegram aktivieren"
        },
        "telegram.instance": {
          "type": "text",
          "label": "Telegram Instanz"
        },
        "telegram.chatId": {
          "type": "text",
          "label": "Chat ID"
        }
      }
    },
    "energy": {
      "type": "tab",
      "label": "Datenquellen – Energie",
      "items": {
        "energy.houseConsumption": {
          "type": "objectId",
          "label": "Hausverbrauch (gesamt)"
        },
        "energy.gridPower": {
          "type": "objectId",
          "label": "Netzbezug / Einspeisung"
        },
        "energy.batterySoc": {
          "type": "objectId",
          "label": "Batterie SOC"
        },
        "energy.batteryPower": {
          "type": "objectId",
          "label": "Batterie Lade-/Entladeleistung"
        },
        "pvSources": {
          "type": "table",
          "label": "PV-Quellen",
          "items": [
            {
              "attr": "name",
              "type": "text",
              "title": "Name"
            },
            {
              "attr": "orientation",
              "type": "text",
              "title": "Ausrichtung"
            },
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Leistung aktuell"
            },
            {
              "attr": "unit",
              "type": "text",
              "title": "Einheit"
            }
          ]
        },
        "consumers": {
          "type": "table",
          "label": "Einzelverbraucher",
          "items": [
            {
              "attr": "name",
              "type": "text",
              "title": "Name"
            },
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Leistung aktuell"
            },
            {
              "attr": "dailyObjectId",
              "type": "objectId",
              "title": "Tagesverbrauch"
            },
            {
              "attr": "unit",
              "type": "text",
              "title": "Einheit"
            }
          ]
        },
        "energy.wallbox": {
          "type": "objectId",
          "label": "E-Auto / Wallbox (optional)"
        }
      }
    },
    "temperature": {
      "type": "tab",
      "label": "Datenquellen – Temperatur & Heizung",
      "items": {
        "rooms": {
          "type": "table",
          "label": "Innenräume",
          "items": [
            {
              "attr": "name",
              "type": "text",
              "title": "Raumname"
            },
            {
              "attr": "temperature",
              "type": "objectId",
              "title": "Temperatur"
            },
            {
              "attr": "target",
              "type": "objectId",
              "title": "Solltemperatur"
            },
            {
              "attr": "heatingPower",
              "type": "objectId",
              "title": "Heizleistung"
            }
          ]
        },
        "heaters": {
          "type": "table",
          "label": "Heizungen",
          "items": [
            {
              "attr": "type",
              "type": "text",
              "title": "Typ"
            },
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Datenpunkt"
            },
            {
              "attr": "unit",
              "type": "text",
              "title": "Einheit"
            }
          ]
        },
        "temperature.outside": {
          "type": "objectId",
          "label": "Außentemperatur"
        },
        "temperature.weather": {
          "type": "objectId",
          "label": "Wetterdaten (optional)"
        },
        "temperature.frostRisk": {
          "type": "objectId",
          "label": "Frostgefahr"
        },
        "windowContacts": {
          "type": "table",
          "label": "Fenster / Türen (optional)",
          "items": [
            {
              "attr": "name",
              "type": "text",
              "title": "Name"
            },
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Kontakt"
            }
          ]
        }
      }
    },
    "water": {
      "type": "tab",
      "label": "Datenquellen – Wasser",
      "items": {
        "water.total": {
          "type": "objectId",
          "label": "Wasser Gesamtverbrauch"
        },
        "water.daily": {
          "type": "objectId",
          "label": "Tagesverbrauch Wasser"
        },
        "water.hotWater": {
          "type": "objectId",
          "label": "Warmwasser Verbrauch"
        },
        "water.boilerTemp": {
          "type": "objectId",
          "label": "Boiler / Warmwasserspeicher Temperatur"
        },
        "water.circulation": {
          "type": "objectId",
          "label": "Zirkulationspumpe"
        },
        "leakSensors": {
          "type": "table",
          "label": "Leckage-Sensoren (optional)",
          "items": [
            {
              "attr": "name",
              "type": "text",
              "title": "Name"
            },
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Kontakt"
            }
          ]
        }
      }
    },
    "history": {
      "type": "tab",
      "label": "Historische Daten",
      "items": {
        "history.influx.enabled": {
          "type": "checkbox",
          "label": "InfluxDB aktiv"
        },
        "history.influx.instance": {
          "type": "text",
          "label": "InfluxDB Instanz"
        },
        "history.influx.periodHours": {
          "type": "number",
          "label": "Zeitraum (Stunden)",
          "min": 1
        },
        "history.influx.resolutionMin": {
          "type": "number",
          "label": "Auflösung (Minuten)",
          "min": 1
        },
        "history.influx.datapoints": {
          "type": "table",
          "label": "InfluxDB Datenpunkte",
          "items": [
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Datenpunkt"
            },
            {
              "attr": "role",
              "type": "text",
              "title": "Rolle"
            },
            {
              "attr": "unit",
              "type": "text",
              "title": "Einheit"
            }
          ]
        },
        "history.mysql.enabled": {
          "type": "checkbox",
          "label": "MySQL aktiv"
        },
        "history.mysql.instance": {
          "type": "text",
          "label": "MySQL Instanz"
        },
        "history.mysql.periodDays": {
          "type": "number",
          "label": "Zeitraum (Tage)",
          "min": 1
        },
        "history.mysql.resolutionMin": {
          "type": "number",
          "label": "Auflösung (Minuten)",
          "min": 1
        },
        "history.mysql.datapoints": {
          "type": "table",
          "label": "MySQL Datenpunkte",
          "items": [
            {
              "attr": "objectId",
              "type": "objectId",
              "title": "Datenpunkt"
            },
            {
              "attr": "role",
              "type": "text",
              "title": "Rolle"
            },
            {
              "attr": "unit",
              "type": "text",
              "title": "Einheit"
            }
          ]
        }
      }
    },
    "sources": {
      "type": "tab",
      "label": "Datenquellen",
      "items": {
        "pvSources": {
          "type": "table",
          "label": "PV Quellen",
          "items": [
            {
              "attr": "enabled",
              "type": "checkbox",
              "title": "aktiv"
            },
            {
              "attr": "id",
              "type": "objectId",
              "title": "Datenpunkt"
            },
            {
              "attr": "description",
              "type": "text",
              "title": "Beschreibung"
            }
          ]
        }
      }
    }
  }
}
